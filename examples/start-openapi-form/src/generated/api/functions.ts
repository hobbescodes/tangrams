/* eslint-disable */
/* This file is auto-generated by tangrams. Do not edit. */

import { $fetch, buildPath, buildQuery } from "./client"

import {
	type ListPetsResponse,
	type ListPetsParams,
	type CreatePetResponse,
	type CreatePetRequest,
	type GetPetResponse,
	type GetPetParams,
	type UpdatePetResponse,
	type UpdatePetRequest,
	type ListUsersResponse,
	type ListUsersParams,
	type CreateUserResponse,
	type CreateUserRequest,
	type GetUserResponse,
	type GetUserParams,
	type UpdateUserResponse,
	type UpdateUserRequest,
	listPetsResponseSchema,
	createPetResponseSchema,
	getPetResponseSchema,
	updatePetResponseSchema,
	listUsersResponseSchema,
	createUserResponseSchema,
	getUserResponseSchema,
	updateUserResponseSchema,
} from "./schema"

// Query Functions (GET operations)

export const listPets = async (params?: ListPetsParams) => {
	const path = "/pets"
	const query = buildQuery({ status: params?.status, category: params?.category, limit: params?.limit, offset: params?.offset })
	const url = query ? `${path}?${query}` : path
	const { data, error } = await $fetch<ListPetsResponse>(url, { output: listPetsResponseSchema })
	if (error) throw error
	return data
}

export const getPet = async (params: GetPetParams) => {
	const path = buildPath("/pets/{petId}", { petId: params.petId })
	const { data, error } = await $fetch<GetPetResponse>(path, { output: getPetResponseSchema })
	if (error) throw error
	return data
}

export const listUsers = async (params?: ListUsersParams) => {
	const path = "/users"
	const query = buildQuery({ role: params?.role, limit: params?.limit, offset: params?.offset })
	const url = query ? `${path}?${query}` : path
	const { data, error } = await $fetch<ListUsersResponse>(url, { output: listUsersResponseSchema })
	if (error) throw error
	return data
}

export const getUser = async (params: GetUserParams) => {
	const path = buildPath("/users/{userId}", { userId: params.userId })
	const { data, error } = await $fetch<GetUserResponse>(path, { output: getUserResponseSchema })
	if (error) throw error
	return data
}

// Mutation Functions (POST/PUT/PATCH/DELETE operations)

export const createPet = async ({ body }: { body: CreatePetRequest }) => {
	const { data, error } = await $fetch<CreatePetResponse>("/pets", {
		method: "POST",
		output: createPetResponseSchema,
		body,
	})
	if (error) throw error
	return data
}

export const updatePet = async ({ petId, body }: { petId: string; body: UpdatePetRequest }) => {
	const path = buildPath("/pets/{petId}", { petId })
	const { data, error } = await $fetch<UpdatePetResponse>(path, {
		method: "PUT",
		output: updatePetResponseSchema,
		body,
	})
	if (error) throw error
	return data
}

export const deletePet = async ({ petId }: { petId: string }) => {
	const path = buildPath("/pets/{petId}", { petId })
	const { data, error } = await $fetch<unknown>(path, {
		method: "DELETE",
	})
	if (error) throw error
	return data
}

export const createUser = async ({ body }: { body: CreateUserRequest }) => {
	const { data, error } = await $fetch<CreateUserResponse>("/users", {
		method: "POST",
		output: createUserResponseSchema,
		body,
	})
	if (error) throw error
	return data
}

export const updateUser = async ({ userId, body }: { userId: string; body: UpdateUserRequest }) => {
	const path = buildPath("/users/{userId}", { userId })
	const { data, error } = await $fetch<UpdateUserResponse>(path, {
		method: "PUT",
		output: updateUserResponseSchema,
		body,
	})
	if (error) throw error
	return data
}

export const deleteUser = async ({ userId }: { userId: string }) => {
	const path = buildPath("/users/{userId}", { userId })
	const { data, error } = await $fetch<unknown>(path, {
		method: "DELETE",
	})
	if (error) throw error
	return data
}
